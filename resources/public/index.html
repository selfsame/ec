<html><head>
    <link href="css/ce.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="js/constants.js"></script>
    <script type="text/javascript" src="js/required.js"></script>
    <script type="text/javascript" src="main.js"></script>
    <script type="text/javascript" src='js/lib/pixi.min.js'></script>
    <script type="text/javascript" src='js/lib/Perlin.js'></script>
    <script type="text/javascript" src="js/components/standard.js"></script>
    <script type="text/javascript" src="js/components/pixi/standard.js"></script>
    <script type="text/javascript" src="js/components/joe.js"></script>
</head><body><script>

E.mandate(C.new.transform);

root = E(
   C.new.loop()
  ,C.new.renderer({w: window.outerWidth, h: window.outerHeight})
  ,C.new.camera({target:"map"})
  ,E("world"
    ,E("terrain"
      ,C.new.grid()
      ,C.new.background({o:32}))
    ,E("actors")) 
  ,E("ui"
    ,C.new.rect({fill:0x7cb3ff, h:30, w:WIDTH})
    ,C.new.text({text:"This is the UI"})
    ,C.new.text({text:"camera keys: arrows, '+' '-'", x:400})))

for (var i=0;i<2000;i++){
  root.find("actors").add(
    E("ball"+i
      ,C.new.actor()
      ,C.new.sprite({x:-32, y:4, alpha:0.7, image:"place/ball-shadow.png"})
      ,C.new.sprite({image:"place/ball.png"})
      ,C.new.wander()))}

function init(){
  window.eventListen()
  E.mount(root)}

PIXI.loader
  .add('assets/place.json')
  .add('assets/place.png')
  .add('assets/atlas.json')
  .add('assets/atlas.png')
  .load(function(){init()})

</script></body></html>

